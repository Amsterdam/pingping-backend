type Mutation {
  updateTask(input: UpdateTaskInput!): UpdateTaskResponse!
  startRoute(routeId: String!): UserRouteResponse!
  createRouteFeedback(input: RouteFeedbackInput!): RouteFeedbackResponse!
}

type Query {
  getCurrentRoutes: [UserRouteResponse]!
  getAvailableRoutes: [RouteResponse]!
}

# Response
type UserTaskResponse {
  status: TaskStatus!
  task: TaskResponse!
  answer: String
}

type TaskResponse {
  taskId: String!
  title: String!
  description: String
  media: String
  choices: Choices
  type: TaskType!
  progressPercentile: Int
}

type RouteResponse {
  routeId: String!
  title: String!
  description: String
  imageUrl: String
}

type UserRouteResponse {
  route: RouteResponse!
  progress: Int
  status: UserRouteStatus!
  tasks: [UserTaskResponse]
}

type UpdateTaskResponse {
  previousTask: UserTaskResponse
  nextTask: UserTaskResponse
}

type RouteFeedbackResponse {
  taskName: String!
  feedback: String!
}

# Input
input UpdateTaskInput {
  taskId: String!
  answer: String
}

input RouteFeedbackInput {
  routeId: String!
  taskName: String!
  feedback: String!
}
