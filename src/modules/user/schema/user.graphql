type Query {
  getStatus: StatusResponse!
}

type Mutation {
  createGoal(input: CreateGoalInput!): UserGoalResponse!
  deleteUser(confirm: String): MessageResponse
  registerNotifications(input: RegisterNotificationsInput!): DeviceResponse!
  exportUser: ExportResponse!
  importUser(exportToken: String!): MessageResponse
}

# Response
type MessageResponse {
  message: String!
}

type ExportResponse {
  token: String!
}

type StatusResponse {
  user: UserResponse!
  currentTask: UserTaskResponse
  previousTask: UserTaskResponse
  exportUrl: String
  device: DeviceResponse!
}

type UserGoalResponse {
  id: String!
  title: String!
  description: String
  amount: Int!
}

type AchivementResponse {
  achivementId: String!
  title: String!
  description: String
  points: Int!
  status: AchivementStatus!
  icon: String
  earnedDate: Date
}

type UserResponse {
  id: String!
  profile: UserProfileResponse!
  balance: Int!
  goals: [UserGoalResponse!]
  rewards: [UserRewardResponse!]
}

type DeviceResponse {
  id: String!
  token: String
  notificationStatus: NotificationStatus
}

type UserProfileResponse {
  dateOfBirth: Date
}

# Input
input CreateGoalInput {
  title: String!
  description: String
  amount: Int!
}

input RegisterNotificationsInput {
  notificationStatus: NotificationStatus!
  deviceToken: String!
}
